@model ReviewQuote

@{
}

<!DOCTYPE html> 

<html> 



<body>

	 <SECTION style="border-style: solid; border-width: 3px; width: 400px;">
		<CANVAS HEIGHT="400" WIDTH="400px" ID="canvas"> 
			Your browser is not supporting HTML5 Canvas .Upgrade Browser to view this program or check with Chrome or in Firefox.
		</CANVAS>
	</SECTION> 
	<script>
		var canvas = document.getElementById('canvas');
//Always check for properties and methods, to make sure your code doesn't break in other browsers.
if (canvas.getContext) 
 {

  var thicc = 25;
  var scalar = 15;
  x_shift = 80;
  y_shift = -250;
  f_size = "12px Arial";
  var angle_shift = -9;
  // How to put degrees symbol: copy and paste °
  //can use canvas.width/2 and canvas.height/2 to figure out placements for shapes

  var context = canvas.getContext('2d');

  //context.font = f_size;
  //context.fillStyle = "red";

  // Reset the current path
  context.beginPath(); 

  // Staring point 0
   context.moveTo(0 * scalar + x_shift,40 * scalar + y_shift);

  // Line 1 End point
  context.lineTo(15 * scalar + x_shift,40 * scalar + y_shift);

 // context.fillText('15"', ( (15 * scalar + x_shift) + (0 * scalar + x_shift) )/2, 20 + ( (40 * scalar + y_shift) + (40 * scalar + y_shift) )/2 );


  // Line 2 End point
  context.lineTo(4.39 * scalar + x_shift,29.39 * scalar + y_shift);

 // context.fillText('45°', 5 + ( (15 * scalar + x_shift) + (0 * scalar + x_shift) )/2, -10 + ( (40 * scalar + y_shift) + (40 * scalar + y_shift) )/2 );
  //context.fillText('15"', 1 + ( (15 * scalar + x_shift) + (4.39 * scalar + x_shift) )/2, -6 + ( (29.39 * scalar + y_shift) + (40 * scalar + y_shift) )/2 );


  // Line 3 End point
  context.lineTo(14.9999 * scalar + x_shift,18.7867 * scalar + y_shift);

 // context.fillText('90°', 15 + 4.39 * scalar + x_shift, 3 + 29.39 * scalar + y_shift );
//  context.fillText('15"', -20 + ( (4.39 * scalar + x_shift) + (14.9999 * scalar + x_shift) )/2, -5 + ( (18.7867 * scalar + y_shift) + (29.39 * scalar + y_shift) )/2 );


  // Line 4 End point
  context.lineTo(14.9999 * scalar + x_shift, 33.78 * scalar + y_shift);
  
 // context.fillText('45°', -25 + 14.9999 * scalar + x_shift, 40 + 18.7867 * scalar + y_shift );
 // context.fillText('15"', 5 + ( (14.9999 * scalar + x_shift) + (14.9999 * scalar + x_shift) )/2, ( (33.78 * scalar + y_shift) + (18.7867 * scalar + y_shift) )/2 );


  // Make the line visible

  context.lineJoin = "round";
  context.lineWidth = thicc;
  context.stroke();

  context.font = f_size;
  context.fillStyle = "white";

  context.beginPath(); 

  context.fillText('1', ( (15 * scalar + x_shift) + (0 * scalar + x_shift) )/2, ( 6 + (40 * scalar + y_shift) + (40 * scalar + y_shift) )/2 );

  context.fillText('45°', (angle_shift + 15 * scalar + x_shift), (40 * scalar + y_shift) );
  context.fillText('2', (-6 + (15 * scalar + x_shift) + (4.39 * scalar + x_shift) )/2, ( (29.39 * scalar + y_shift) + (40 * scalar + y_shift) )/2 );

  
  context.fillText('90°', 4.39 * scalar + x_shift, 29.39 * scalar + y_shift );
  context.fillText('3', ( (4.39 * scalar + x_shift) + (14.9999 * scalar + x_shift) )/2, ( (18.7867 * scalar + y_shift) + (29.39 * scalar + y_shift) )/2 );

  context.fillText('45°', (angle_shift + 14.9999 * scalar + x_shift), (18.7867 * scalar + y_shift) );
  context.fillText('4', ( -6 + (14.9999 * scalar + x_shift) + (14.9999 * scalar + x_shift) )/2, ( (33.78 * scalar + y_shift) + (18.7867 * scalar + y_shift) )/2 );

  context.stroke();

   }
	</script>



<Script>

//public Canvas object to use in all the functions.  
//Main canvas declaration   
    var canvas;  
    var ctx;  
    var x = 75;  
    var y = 50;  
    //Width and Height of the canvas  
    var WIDTH = 1024;  
    var HEIGHT = 740;  
    //    var dragok = false;  
//Global color variable which will be used to store the selected color name.  
    var Colors="";  
    var newPaint = false;  
    var DrawingTypes = "";  
    //Circle default radius size  
    var radius = 30;  
    var radius_New = 30;  
    // Rectangle array  
    rect = {},  
    //drag= false default to test for the dragging  
drag = false;  
// Array to store all the old Shapes drawing details  
    var rectStartXArray = new Array();  
    var rectStartYArray = new Array();  
    var rectWArray = new Array();  
    var rectHArray = new Array();  
    var rectColor = new Array();  
    var DrawType_ARR = new Array();  
    var radius_ARR = new Array();  
    var Text_ARR = new Array();  
    // Declared for the Free hand pencil Drawing.  
    var prevX = 0,  
    currX = 0,  
    prevY = 0,  
    currY = 0;  
    //to add the Image  
    var imageObj = new Image();  
//Initialize the Canvas and Mouse events for Canvas  
    function init(DrawType) {  
        newPaint = true;  
        canvas = document.getElementById("canvas");  
        x = 5;  
        y = 5;  
        DrawingTypes = DrawType;  
        ctx = canvas.getContext("2d");  
        radius = 30;  
        radius_New = radius;  
        canvas.addEventListener('mousedown', mouseDown, false);  
        canvas.addEventListener('mouseup', mouseUp, false);  
        canvas.addEventListener('mousemove', mouseMove, false);  
        imageObj.src = 'images/Afraz.jpg';  
  
        return setInterval(draw, 10);  
    } 
	

 //Mouse down event method  
    function mouseDown(e) {  
        rect.startX = e.pageX - this.offsetLeft;  
        rect.startY = e.pageY - this.offsetTop;  
        radius_New = radius;  
        prevX = e.clientX - canvas.offsetLeft;  
        prevY = e.clientY - canvas.offsetTop;  
        currX = e.clientX - canvas.offsetLeft;  
        currY = e.clientY - canvas.offsetTop;  
        drag = true;  
    }  
    //Mouse UP event Method  
    function mouseUp() {  
        rectStartXArray[rectStartXArray.length] = rect.startX;  
        rectStartYArray[rectStartYArray.length] = rect.startY;  
        rectWArray[rectWArray.length] = rect.w;  
        rectHArray[rectHArray.length] = rect.h;  
        Colors = document.getElementById("SelectColor").value;  
        rectColor[rectColor.length] = "#" + Colors;  
        DrawType_ARR[DrawType_ARR.length] = DrawingTypes  
        radius_ARR[radius_ARR.length] = radius_New;  
        Text_ARR[Text_ARR.length] = $('#txtInput').val();  
        drag = false;  
         
    }  
  
    //mouse Move Event method  
    function mouseMove(e) {  
        if (drag) {  
            rect.w = (e.pageX - this.offsetLeft) - rect.startX;  
              
             rect.h = (e.pageY - this.offsetTop) - rect.startY;  
             drawx = e.pageX - this.offsetLeft;  
             drawy = e.pageY - this.offsetTop;  
             prevX = currX;  
             prevY = currY;  
             currX = e.clientX - canvas.offsetLeft;  
             currY = e.clientY - canvas.offsetTop;  
            if (drag = true) {  
                radius_New += 2;  
                 
            }  
            draw();  
            if (DrawingTypes == "FreeDraw" || DrawingTypes == "Erase") {  
            }  
            else {  
                ctx.clearRect(0, 0, canvas.width, canvas.height);  
            }  
             
        }  
        drawOldShapes();  
    } 

	//Draw all Shapes,Text and add images   
    function draw() {  
        ctx.beginPath();  
        Colors = document.getElementById("SelectColor").value;  
        ctx.fillStyle = "#" + Colors;  
        switch (DrawingTypes) {  
            case "FillRect":  
                ctx.rect(rect.startX, rect.startY, rect.w, rect.h);  
                break;  
            case "FillCircle":  
                ctx.arc(rect.startX, rect.startY, radius_New, rect.w, rect.h);  
                break;  
            case "Images":  
                ctx.drawImage(imageObj, rect.startX, rect.startY, rect.w, rect.h);  
                break;  
            case "DrawText":  
                ctx.font = '40pt Calibri';  
                  
                ctx.fillText($('#txtInput').val(), rect.startX, rect.startY);  
                break;  
            case "FreeDraw":  
                ctx.beginPath();  
                ctx.moveTo(prevX, prevY);  
                ctx.lineTo(currX, currY);  
                ctx.strokeStyle = "#" + Colors;  
                ctx.lineWidth = $('#selSize').val();  
                ctx.stroke();  
                ctx.closePath();  
//                ctx.beginPath();  
//                ctx.moveTo(drawx, drawy);  
//                ctx.rect(drawx, drawy,  6, 6);  
//                ctx.fill();  
                break;  
            case "Erase":  
                
                ctx.beginPath();  
                ctx.moveTo(prevX, prevY);  
                ctx.lineTo(currX, currY); 
                ctx.strokeStyle = "#FFFFFF";  
                ctx.lineWidth = 6;  
                ctx.stroke();  
                ctx.closePath();  
                //                ctx.beginPath();  
                //                ctx.moveTo(drawx, drawy);  
                //                ctx.rect(drawx, drawy,  6, 6);  
                //                ctx.fill();  
                break;  
        }  
          
        ctx.fill();  
       // ctx.stroke();  
    } 

	//Save as Image file   
    function ShanuSaveImage() {   
          var m = confirm("Are you sure to Save ");   
          if (m) {   
              // generate the image data   
              var image_NEW = document.getElementById("canvas").toDataURL("image/png");   
              image_NEW = image_NEW.replace('data:image/png;base64,', '');  
              $.ajax({  
                  type: 'POST',  
                  url: 'Default.aspx/SaveImage',  
                  data: '{ "imageData" : "' + image_NEW + '" }',  
                  contentType: 'application/json; charset=utf-8',  
                  dataType: 'json',  
                  success: function (msg) {  
                      alert('Image saved to your root Folder !');  
                  }  
              });  
          }        
    } 


	//Save as Image file   
    function ShanuSaveImage() {   
          var m = confirm("Are you sure to Save ");   
          if (m) {   
              // generate the image data   
              var image_NEW = document.getElementById("canvas").toDataURL("image/png");   
              image_NEW = image_NEW.replace('data:image/png;base64,', '');  
              $.ajax({  
                  type: 'POST',  
                  url: 'Default.aspx/SaveImage',  
                  data: '{ "imageData" : "' + image_NEW + '" }',  
                  contentType: 'application/json; charset=utf-8',  
                  dataType: 'json',  
                  success: function (msg) {  
                      alert('Image saved to your root Folder !');  
                  }  
              });  
          }        
    }
	</script>




</body>



</html>